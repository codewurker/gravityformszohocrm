window.GFZohoCRMSettings=null,function(a){GFZohoCRMSettings=function(){var n=this;this.init=function(){this.pageURL=gform_zohocrm_pluginsettings_strings.settings_url,this.bindDeauthorize(),this.bindClearCache()},this.bindDeauthorize=function(){a("#gform_zohocrm_deauth_button").on("click",function(t){t.preventDefault();var e=a("#gform_zohocrm_deauth_button");if(!confirm(gform_zohocrm_pluginsettings_strings.disconnect))return!1;e.attr("disabled","disabled"),a.ajax({async:!1,url:ajaxurl,dataType:"json",data:{action:"gfzohocrm_deauthorize",nonce:gform_zohocrm_pluginsettings_strings.nonce_deauthorize},success:function(t){t.success?window.location.href=n.pageURL:alert(t.data.message),e.removeAttr("disabled")}})})},this.bindClearCache=function(){a("#gf_zohocrm_clear").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var e=a(this);e.attr("disabled",!0),a.ajax({method:"POST",url:ajaxurl,data:{action:"gfzohocrm_clear_cache",nonce:gform_zohocrm_pluginsettings_strings.nonce_clear_cache},success:function(t){"last_clearance"in t.data&&(jQuery(".success-alert-container").fadeIn(),a("#last_cache_clearance .time").text(t.data.last_clearance))},error:function(){jQuery(".error-alert-container").fadeIn()},complete:function(){e.attr("disabled",!1),setTimeout(function(){jQuery(".alert-container").fadeOut()},1e4)}})})},this.init()},a(document).ready(GFZohoCRMSettings)}(jQuery);